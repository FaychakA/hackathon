(this.webpackJsonphackathon=this.webpackJsonphackathon||[]).push([[0],{130:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(35),r=n.n(s),i=n(14),o=n(157),l=n(97),d=n(54),u=n(100),b=n(102);l.a.use(u.a).use(b.a).use(d.e).init({fallbackLng:"en",debug:!0,whitelist:["en","ru"],interpolation:{escapeValue:!1}});var j=l.a,O=n(25),p=n(16),m=n(154),h=n(158),f=n(160),v=n(155),x=n(162),g=n(10),y=n(106),I=n(32),w=n(1),N=function(){var e=Object(x.a)().i18n,t=Object(a.useState)("EN"),n=Object(g.a)(t,2),c=n[0],s=n[1],r=function(t){e.changeLanguage(t)};return Object(a.useEffect)((function(){s(e.language)}),[e.language]),Object(w.jsxs)(y.a,{id:"dropdown-item-button",align:"end",title:null===c||void 0===c?void 0:c.toUpperCase(),children:["ru"!==c&&Object(w.jsx)(I.a.Item,{onClick:function(){return r("ru")},as:"button",children:"RU"}),"en"!==c&&Object(w.jsx)(I.a.Item,{onClick:function(){return r("en")},as:"button",children:"EN"})]})},C=(n(130),n(5)),k=n(19),_=n(6),S=n.n(_),P=n(12),L=n(109),E=n(114),B=n(42),D=Object(L.a)({apiKey:"AIzaSyCEk-bTYvQ_6gK4SGPtLWOf8yPifqzVzmo",authDomain:"maya-5ecfb.firebaseapp.com",projectId:"maya-5ecfb",storageBucket:"maya-5ecfb.appspot.com",messagingSenderId:"466261072640",appId:"1:466261072640:web:54c53ba9f5dfe796caf1e5",measurementId:"G-CYT12ZDTZ9"}),G=(Object(E.a)(D),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n){var a=Object(B.a)(),c=Object(B.c)(a,"".concat(e,"/").concat(t));Object(B.b)(c,(function(e){var t=e.val();n(t)}))}))}),U=function(e,t,n){n.updateAt=Date.now();var a=Object(B.a)();Object(B.e)(Object(B.c)(a,"".concat(e,"/").concat(t)),n)},T=function(e,t,n){var a=Object(B.a)();Object(B.d)(Object(B.c)(a,"".concat(e,"/").concat(t)),n)},A=Object(k.b)("auth/login/loginUser",function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a,c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.password,c=t.isCheckOut,e.next=3,G("users",n);case 3:return s=e.sent,e.abrupt("return",{isLogged:s.password===a,login:n,isCheckOut:c});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(k.b)("register/registerUser",function(){var e=Object(P.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===t||void 0===t?void 0:t.role)||(t.role="user"),U("users",t.login,t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=JSON.parse(localStorage.getItem("userInfo")),V=Object(k.c)({name:"user",initialState:{login:(null===R||void 0===R?void 0:R.login)||"",isLogged:(null===R||void 0===R?void 0:R.isLogged)||!1,bannedUsers:[]},reducers:{changeBanStatus:function(e,t){var n=t.payload;e.bannedUsers.includes(n)?e.bannedUsers=e.bannedUsers.filter((function(e){return e!==n})):e.bannedUsers.push(n)},logout:function(e){e.login="",e.isLogged=!1,localStorage.clear()}},extraReducers:Object(C.a)({},A.fulfilled,(function(e,t){var n=t.payload,a=n.isLogged,c=n.login,s=n.isCheckOut;e.bannedUsers.includes(c)||(e.isLogged=a,e.login=c,s&&localStorage.setItem("userInfo",JSON.stringify({login:c,isLogged:a})))}))}),z=V.actions,J=z.changeBanStatus,F=z.logout,Y=V.reducer,H=n.p+"static/media/logo.9dbb162b.png",K=function(){var e=Object(i.b)(),t=Object(x.a)().t;return Object(w.jsx)(h.a,{fixed:"top",variant:"dark",bg:"dark",expand:"lg",children:Object(w.jsxs)(m.a,{fluid:!0,children:[Object(w.jsx)(h.a.Brand,{as:O.b,to:"/",children:Object(w.jsx)("img",{className:"header__logo",src:H,alt:"logo"})}),Object(w.jsx)(h.a.Toggle,{"aria-controls":"navbarScroll"}),Object(w.jsxs)(h.a.Collapse,{id:"navbarScroll",className:"header__menu",children:[Object(w.jsxs)(f.a,{className:"my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[Object(w.jsx)(f.a.Link,{as:O.b,to:"/",children:t("header.links.home")}),Object(w.jsx)(f.a.Link,{as:O.b,to:"/posts",children:t("header.links.posts")}),Object(w.jsx)(f.a.Link,{as:O.b,to:"/users",children:t("header.links.users")})]}),Object(w.jsx)(f.a,{children:Object(w.jsxs)(v.a,{title:t("header.dropdown.profile"),id:"collasible-nav-dropdown",align:"end",children:[Object(w.jsx)(v.a.Item,{as:O.b,to:"/profile",children:t("header.links.profile")}),Object(w.jsx)(v.a.Item,{as:O.b,to:"/log-out",onClick:function(){e(F())},children:t("header.links.logOut")})]})})]}),Object(w.jsx)(N,{})]})})},Z=n(3),q=function(e){var t=e.type,n=Object(i.c)((function(e){return e.user})).isLogged;return"public"===t&&n?Object(w.jsx)(p.a,{to:"/"}):"private"!==t||n?Object(w.jsx)(p.b,Object(Z.a)({},e)):Object(w.jsx)(p.a,{to:"/login"})},Q=n(156),W=n(112),X=n(159),$=n(69),ee=n(161),te=n(53),ne=n(113),ae=Object(k.b)("posts/createPost",function(){var e=Object(P.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U("posts",t.postId,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce=Object(k.b)("posts/fetchPostsList",Object(P.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("posts","");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),se=Object(k.b)("posts/removePost",function(){var e=Object(P.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("posts",t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re=Object(k.b)("posts/fetchPost",function(){var e=Object(P.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("posts",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{condition:function(e,t){var n=(0,t.getState)().posts.byId;return!Object.keys(n).includes(e)}}),ie=(n(136),function(e){var t=e.postId,n=e.isVisibleContent,a=Object(i.b)(),c=t,s=Object(i.c)((function(e){return e.posts.byId[c]})),r=Object(i.c)((function(e){return e.user})).login;return Object(w.jsxs)("div",{className:"post",children:[(null===s||void 0===s?void 0:s.createdBy)===r&&Object(w.jsx)("button",{className:"post__delete",type:"button",onClick:function(){a(se(t))},children:Object(w.jsx)(ne.a,{})}),Object(w.jsx)(O.b,{className:"posts__link",to:"/post/".concat(t),children:Object(w.jsxs)(te.a,{className:"post__item",children:[Object(w.jsx)(te.a.Img,{style:{height:200,objectFit:"cover"},variant:"top",src:null===s||void 0===s?void 0:s.postPic}),Object(w.jsxs)(te.a.Body,{children:[Object(w.jsx)("h2",{children:null===s||void 0===s?void 0:s.title}),n&&Object(w.jsx)(te.a.Text,{children:null===s||void 0===s?void 0:s.content})]}),Object(w.jsxs)(te.a.Footer,{children:[Object(w.jsx)(te.a.Text,{style:{fontSize:12,margin:0},children:new Date(null===s||void 0===s?void 0:s.updatedAt).toLocaleDateString(navigator.language)}),Object(w.jsx)(te.a.Text,{style:{fontSize:12,margin:0},children:new Date(null===s||void 0===s?void 0:s.updatedAt).toLocaleTimeString(navigator.language)})]})]})})]})}),oe=ie;ie.defaultProps={isVisibleContent:!0};Object(k.b)("auth/login/loginUser",function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a,c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.password,c=t.isCheckOut,e.next=3,G("users",n);case 3:return s=e.sent,e.abrupt("return",{isLogged:s.password===a,login:n,isCheckOut:c});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var le=Object(k.b)("register/registerUser",function(){var e=Object(P.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.role="user",U("users",t.login,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),de=Object(k.b)("users/fetchUser",function(){var e=Object(P.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("users",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(k.b)("users/fetchUsersIds",Object(P.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),be=Object(k.b)("comments/createComment",function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commentData,a=t.postId,U("posts/".concat(a,"/comments"),n.commentId,n),e.abrupt("return",{commentData:n,postId:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),je=(n(137),{content:"",commentId:Object(ee.a)()}),Oe=function(e){var t,n,c,s=e.postId,r=Object(p.h)().id,o=Object(p.g)(),l=Object(i.b)(),d=r||s,u=Object(a.useState)(je),b=Object(g.a)(u,2),j=b[0],O=b[1],m=Object(i.c)((function(e){return e.user})).login,h=Object(i.c)((function(e){return e})),f=h.posts,v=h.users;Object(a.useEffect)((function(){l(ue()),r&&l(re(r))}),[]);return Object(w.jsxs)("div",{className:"post-page",children:[r&&Object(w.jsx)("div",{className:"post-page__button",children:Object(w.jsx)($.a,{variant:"dark",onClick:function(){return o.push("/posts")},children:"Back"})}),Object(w.jsx)(oe,{postId:d}),Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsxs)(X.a,{className:"post-page__border post-page__border--form",onSubmit:function(e){return function(e){e.preventDefault(),l(be({commentData:Object(Z.a)({postId:r,userId:m},j),postId:r})),O(Object(Z.a)(Object(Z.a)({},je),{},{commentId:Object(ee.a)()}))}(e)},children:[Object(w.jsx)("h2",{children:"Here you can add new comment"}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Comment"}),Object(w.jsx)(X.a.Control,{type:"text",as:"textarea",placeholder:"Please enter your comment",value:j.content,onChange:function(e){return O(Object(Z.a)(Object(Z.a)({},j),{},{content:e.target.value}))}})]}),Object(w.jsx)($.a,{variant:"primary",type:"submit",children:"Submit"})]})})}),(null===(t=f.byId[r])||void 0===t?void 0:t.comments)&&Object.keys(null===(n=f.byId[r])||void 0===n?void 0:n.comments).length>0&&Object(w.jsx)("div",{className:"post-page__border",children:Object.keys(null===(c=f.byId[r])||void 0===c?void 0:c.comments).reverse().map((function(e){var t,n,a,c,s,i;return Object(w.jsxs)("div",{className:"post-page__comment",children:[Object(w.jsxs)("div",{className:"post-page__user-info",children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{className:"post-page__user-avatar",src:null===(t=v.byId[null===(n=f.byId[r])||void 0===n?void 0:n.comments[e].userId])||void 0===t?void 0:t.profilePic,alt:"user"})}),Object(w.jsx)("div",{className:"post-page__user-name",children:"Name: ".concat(null===(a=v.byId[null===(c=f.byId[r])||void 0===c?void 0:c.comments[e].userId])||void 0===a?void 0:a.name)})]}),Object(w.jsx)("div",{className:"post-page__comment-content",children:null===(s=f.byId[r])||void 0===s||null===(i=s.comments[e])||void 0===i?void 0:i.content})]},e)}))})]})},pe=Oe;Oe.defaultProps={postId:""};var me,he,fe=n(37),ve=n(163),xe=(n(138),n(8)),ge=n.n(xe),ye=n(91),Ie=n.n(ye),we=(n(139),{title:"",content:"",postPic:"",postId:Object(ee.a)()}),Ne=function(e){var t=e.setIsVisibleEditor,n=Object(i.b)(),c=Object(a.useState)(we),s=Object(g.a)(c,2),r=s[0],o=s[1],l=Object(i.c)((function(e){return e.user})).login;return Object(w.jsxs)(X.a,{className:"create-post",onSubmit:function(e){return function(e){e.preventDefault(),n(ae(Object(Z.a)({postId:Object(ee.a)(),updatedAt:Date.now(),createdBy:l},r))).then((function(){n(re(r.postId))})),o(we),t(!1)}(e)},children:[Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formTitle",children:[Object(w.jsx)(X.a.Label,{children:"Title"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!r.title,"is-valid":r.title}),type:"text",placeholder:"Enter title",value:r.title,onChange:function(e){return o(Object(Z.a)(Object(Z.a)({},r),{},{title:e.target.value}))}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formContent",children:[Object(w.jsx)(X.a.Label,{children:"Text"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!r.content,"is-valid":r.content}),as:"textarea",placeholder:"Your post",style:{height:"100px"},value:r.content,onChange:function(e){return o(Object(Z.a)(Object(Z.a)({},r),{},{content:e.target.value}))}})]}),Object(w.jsx)(X.a.Group,{className:"mb-3",controlId:"formImage",children:Object(w.jsx)(Ie.a,{multiple:!1,onDone:function(e){return function(e){o(Object(Z.a)(Object(Z.a)({},r),{},{postPic:e.base64}))}(e)}})}),Object(w.jsxs)("div",{className:"create-post__buttons",children:[Object(w.jsx)($.a,{variant:"primary",type:"submit",disabled:!r.postId||!r.content||!r.postPic,children:"Submit"}),Object(w.jsx)($.a,{variant:"secondary",type:"button",onClick:function(){return t(!1)},children:"Cancel"})]})]})},Ce=function(){var e=Object(x.a)().t,t=Object(i.b)(),n=Object(a.useState)(1),c=Object(g.a)(n,2),s=c[0],r=c[1],o=Object(i.c)((function(e){return e.posts})).byId,l=Object.values(o),d=l.length/6,u=Object(a.useState)(""),b=Object(g.a)(u,2),j=b[0],O=b[1],p=Object(a.useState)("age"),m=Object(g.a)(p,2),h=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(g.a)(v,2),I=y[0],N=y[1],C=Object(a.useMemo)((function(){if(l&&l.length>0){var e=j.toLowerCase();switch(h){case"age":l.sort((function(e,t){return new Date(t.updatedAt)-new Date(e.updatedAt)}));break;case"age-reverse":l.sort((function(e,t){return new Date(e.updatedAt)-new Date(t.updatedAt)}));break;case"abc":l.sort((function(e,t){return e.title.localeCompare(t.title)}));break;case"abc-reverse":l.sort((function(e,t){return t.title.localeCompare(e.title)}));break;default:return l}return l.filter((function(t){return t.title.toLowerCase().includes(e)||t.content.toLowerCase().includes(e)}))}return[]}),[l,j,h]);Object(a.useEffect)((function(){t(ce())}),[]);return Object(w.jsxs)(Q.a,{children:[Object(w.jsx)("h1",{children:e("posts.header")}),Object(w.jsxs)(X.a,{children:[Object(w.jsx)(X.a.Group,{className:"mb-3",controlId:"formTitle",children:Object(w.jsx)(X.a.Control,{type:"text",placeholder:e("posts.search"),value:j,onChange:function(e){return O(e.target.value)}})}),Object(w.jsxs)(Q.a,{className:"py-5",children:[Object(w.jsx)(W.a,{children:!I&&Object(w.jsx)($.a,{onClick:function(){N(!0)},children:"Create post"})}),Object(w.jsx)(W.a,{children:Object(w.jsxs)(X.a.Select,{"aria-label":"Sort posts",value:h,onChange:function(e){return f(e.target.value)},children:[Object(w.jsx)("option",{value:"age",children:e("posts.select.byNew")}),Object(w.jsx)("option",{value:"age-reverse",children:e("posts.select.byOld")}),Object(w.jsx)("option",{value:"abc",children:e("posts.select.alphabet")}),Object(w.jsx)("option",{value:"abc-reverse",children:e("posts.select.alphabetReverse")})]})})]})]}),I&&Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)(Ne,{setIsVisibleEditor:N})})}),Object(w.jsx)(Q.a,{xs:1,md:2,lg:3,children:C.length>0?Object(fe.a)(C.slice(6*s-6,6*s)).map((function(e){return Object(w.jsx)(W.a,{className:"mb-4",children:Object(w.jsx)(oe,{postId:e.postId})},e.postId)})):Object(w.jsx)("h2",{className:"py-5",children:"No result"})}),C.length>6&&Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsxs)(ve.a,{children:[Object(w.jsx)(ve.a.First,{disabled:1===s,onClick:function(){return r(1)}}),Object(w.jsx)(ve.a.Prev,{disabled:1===s,onClick:function(){return r((function(e){return e-1}))}}),Object(fe.a)(new Array(Math.ceil(d))).map((function(e,t){return t})).map((function(e,t){return Object(w.jsx)(ve.a.Item,{onClick:function(){return r(t+1)},active:s===t+1,children:t+1},e)})),Object(w.jsx)(ve.a.Next,{disabled:s===Math.ceil(d),onClick:function(){return r((function(e){return e+1}))}}),Object(w.jsx)(ve.a.Last,{disabled:s===Math.ceil(d),onClick:function(){return r(Math.ceil(d))}})]})})})]})},ke=(n(140),function(){var e,t,n,c,s,r,o,l=Object(i.b)(),d=Object(p.h)().id,u=Object(i.c)((function(e){return e.user})),b=u.login,j=u.bannedUsers,O=Object(i.c)((function(e){return e})).users;Object(a.useEffect)((function(){l(de(d)),l(de(b))}),[]);var m=function(){l(J(d))};return Object(w.jsx)("div",{children:Object(w.jsxs)(Q.a,{children:[Object(w.jsx)(W.a,{children:(null===(e=O.byId[d])||void 0===e?void 0:e.profilePic)&&Object(w.jsx)("img",{className:"user__avatar",src:O.byId[d].profilePic,alt:"user face"})}),Object(w.jsx)(W.a,{children:Object(w.jsxs)("div",{className:"user__border",children:[Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h1",{children:"Name: ".concat((null===(t=O.byId[d])||void 0===t?void 0:t.name)||"")})})}),Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h3",{children:"Role: ".concat((null===(n=O.byId[d])||void 0===n?void 0:n.role)||"")})})}),Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h3",{children:"Mail: ".concat((null===(c=O.byId[d])||void 0===c?void 0:c.mail)||"")})})}),Object(w.jsx)(Q.a,{children:(null===(s=O.byId[d])||void 0===s?void 0:s.bio)&&Object(w.jsx)(W.a,{children:Object(w.jsx)("h3",{children:"Bio: ".concat(O.byId[d].bio||"")})})})]})}),"admin"===(null===(r=O.byId[b])||void 0===r?void 0:r.role)&&"admin"!==(null===(o=O.byId[d])||void 0===o?void 0:o.role)&&Object(w.jsx)(W.a,{children:j.includes(d)?Object(w.jsx)($.a,{onClick:m,children:"Unban user"}):Object(w.jsx)($.a,{onClick:m,children:"Ban user"})})]})})}),_e=(n(141),n.p+"static/media/guest-user.272e0157.jpeg"),Se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e})).users;return Object(a.useEffect)((function(){e(ue())}),[]),Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Users"}),Object(w.jsx)(Q.a,{xs:1,md:2,lg:3,children:t.allIds.map((function(e){var n;return Object(w.jsx)(W.a,{className:"mb-4",children:Object(w.jsx)(Q.a,{className:"users__wrap",children:Object(w.jsxs)(W.a,{className:"d-flex flex-column users__inner",children:[Object(w.jsx)("img",{className:"users__avatar",src:(null===(n=t.byId[e])||void 0===n?void 0:n.profilePic)?t.byId[e].profilePic:_e,alt:"user face"}),Object(w.jsx)("h3",{className:"users__name",children:Object(w.jsx)(O.b,{to:"user/".concat(e),children:e})})]})})},e)}))})]})},Pe=(n(142),function(){var e,t,n,c,s,r,o,l,d,u=Object(i.b)(),b=Object(i.c)((function(e){return e.user})).login,j=Object(i.c)((function(e){return e})).users,O=Object(a.useState)(!1),p=Object(g.a)(O,2),m=p[0],h=p[1],f=Object(a.useState)({name:(null===(e=j.byId[b])||void 0===e?void 0:e.name)||"",mail:(null===(t=j.byId[b])||void 0===t?void 0:t.mail)||"",bio:(null===(n=j.byId[b])||void 0===n?void 0:n.bio)||"",password:(null===(c=j.byId[b])||void 0===c?void 0:c.password)||""}),v=Object(g.a)(f,2),x=v[0],y=v[1],I=Object(a.useState)(!1),N=Object(g.a)(I,2),C=N[0],k=N[1];Object(a.useEffect)((function(){u(de(b))}),[]);var _=function(){var e,t,n,a;h(!m),y({name:(null===(e=j.byId[b])||void 0===e?void 0:e.name)||"",mail:(null===(t=j.byId[b])||void 0===t?void 0:t.mail)||"",bio:(null===(n=j.byId[b])||void 0===n?void 0:n.bio)||"",password:(null===(a=j.byId[b])||void 0===a?void 0:a.password)||""})};return Object(w.jsx)("div",{children:Object(w.jsxs)(Q.a,{children:[Object(w.jsx)(W.a,{children:(null===(s=j.byId[b])||void 0===s?void 0:s.profilePic)&&Object(w.jsx)("img",{className:"profile__avatar",src:j.byId[b].profilePic,alt:"user face"})}),Object(w.jsx)(W.a,{children:m?Object(w.jsx)("div",{className:"profile__border profile__border--form",children:Object(w.jsxs)(X.a,{onSubmit:function(e){return function(e){var t,n,a,c;e.preventDefault(),x.confirmPassword===x.password?(console.log(j.byId[b],"profile"),u(M(Object(Z.a)(Object(Z.a)({},j.byId[b]),{},{name:x.name||(null===(t=j.byId[b])||void 0===t?void 0:t.name),mail:x.mail||(null===(n=j.byId[b])||void 0===n?void 0:n.mail),bio:x.bio||(null===(a=j.byId[b])||void 0===a?void 0:a.bio),password:x.password||(null===(c=j.byId[b])||void 0===c?void 0:c.password)}))),h(!m),k(!1)):k(!0)}(e)},children:[Object(w.jsx)("h2",{children:"Change your profile data"}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Name:"}),Object(w.jsx)(X.a.Control,{type:"text",placeholder:"Please enter a name",value:x.name,onChange:function(e){return y(Object(Z.a)(Object(Z.a)({},x),{},{name:e.target.value}))}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(X.a.Label,{children:"Mail:"}),Object(w.jsx)(X.a.Control,{type:"email",placeholder:"Please enter a mail",value:x.mail,onChange:function(e){return y(Object(Z.a)(Object(Z.a)({},x),{},{mail:e.target.value}))}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Bio:"}),Object(w.jsx)(X.a.Control,{type:"text",placeholder:"Please enter a bio",value:x.bio,onChange:function(e){return y(Object(Z.a)(Object(Z.a)({},x),{},{bio:e.target.value}))}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(X.a.Label,{children:"Password:"}),Object(w.jsx)(X.a.Control,{type:"password",placeholder:"Please enter a password",onChange:function(e){return y(Object(Z.a)(Object(Z.a)({},x),{},{password:e.target.value}))}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(X.a.Label,{children:"Confirm password:"}),Object(w.jsx)(X.a.Control,{type:"password",placeholder:"Please confirm new password",onChange:function(e){return y(Object(Z.a)(Object(Z.a)({},x),{},{confirmPassword:e.target.value}))}})]}),C&&Object(w.jsx)("div",{className:"profile__error",children:"Password does not match"}),Object(w.jsxs)("div",{className:"profile__form-buttons",children:[Object(w.jsx)($.a,{variant:"primary",type:"submit",children:"Save"}),Object(w.jsx)($.a,{variant:"secondary",type:"button",onClick:_,children:"Cancel"})]})]})}):Object(w.jsxs)("div",{className:"profile__border",children:[Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h1",{children:"Name: ".concat((null===(r=j.byId[b])||void 0===r?void 0:r.name)||"")})})}),Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h3",{children:"Role: ".concat((null===(o=j.byId[b])||void 0===o?void 0:o.role)||"")})})}),Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h3",{children:"Mail: ".concat((null===(l=j.byId[b])||void 0===l?void 0:l.mail)||"")})})}),Object(w.jsx)(Q.a,{children:Object(w.jsx)(W.a,{children:Object(w.jsx)("h3",{children:"Bio: ".concat((null===(d=j.byId[b])||void 0===d?void 0:d.bio)||"")})})}),Object(w.jsx)($.a,{variant:"primary",type:"button",onClick:_,children:"Edit"})]})})]})})}),Le=(n(143),n(144),/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/),Ee=(n(145),[{path:"/post/:id",component:pe,isExact:!0,type:"private"},{path:"/posts",component:Ce,isExact:!0,type:"private"},{path:"/user/:id",component:ke,isExact:!0,type:"private"},{path:"/users",component:Se,isExact:!0,type:"private"},{path:"/profile",component:Pe,isExact:!0,type:"private"},{path:"/login",component:function(){var e=Object(i.b)(),t=Object(a.useState)(""),n=Object(g.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(g.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(!1),b=Object(g.a)(u,2),j=b[0],p=b[1];return Object(w.jsx)(Q.a,{className:"sign-in",children:Object(w.jsx)(W.a,{md:{span:4,offset:4},children:Object(w.jsxs)(X.a,{className:"sign-in__form",children:[Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Login"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!c,"is-valid":c}),type:"login",placeholder:"Enter login",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(X.a.Label,{children:"Password"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!l,"is-valid":l}),type:"password",placeholder:"Password",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(w.jsx)(X.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(w.jsx)(X.a.Check,{type:"checkbox",label:"Check me out",checked:j,onChange:function(e){return p(e.target.checked)}})}),Object(w.jsx)($.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e(A({login:c,password:l,isCheckOut:j}))},disabled:!c||!l,children:"Submit"}),Object(w.jsxs)("p",{className:"sign-in__switch",children:["Switch to ",Object(w.jsx)(O.b,{to:"/sign-up",children:"SIGN UP"})]})]})})})},isExact:!0,type:"public"},{path:"/sign-up",component:function(){var e=Object(i.b)(),t=Object(a.useState)(""),n=Object(g.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(g.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(""),b=Object(g.a)(u,2),j=b[0],m=b[1],h=Object(a.useState)(""),f=Object(g.a)(h,2),v=f[0],x=f[1],y=Object(a.useState)(""),I=Object(g.a)(y,2),N=I[0],C=I[1],k=Object(a.useState)(""),_=Object(g.a)(k,2),S=_[0],P=_[1],L=Object(p.g)();return Object(w.jsx)(Q.a,{className:"sign-up",children:Object(w.jsx)(W.a,{md:{span:4,offset:4},children:Object(w.jsxs)(X.a,{className:"sign-up__form",children:[Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Login"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!c,"is-valid":c}),type:"login",placeholder:"Enter login",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Email"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!l||!Le.test(l),"is-valid":l||Le.test(l)}),type:"email",placeholder:"Enter email",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Name"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!j,"is-valid":j}),type:"name",placeholder:"Enter name",value:j,onChange:function(e){return m(e.target.value)}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(X.a.Label,{children:"Upload image"}),Object(w.jsx)(Ie.a,{multiple:!1,onDone:function(e){return P(e.base64)}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(X.a.Label,{children:"Password"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!v,"is-valid":v}),type:"password",placeholder:"Enter password",value:v,onChange:function(e){return x(e.target.value)}})]}),Object(w.jsxs)(X.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(w.jsx)(X.a.Label,{children:"Confirm password"}),Object(w.jsx)(X.a.Control,{className:ge()({"is-invalid":!N||v!==N,"is-valid":N||v===N}),type:"password",placeholder:"Enter confirm password",value:N,onChange:function(e){return C(e.target.value)}})]}),Object(w.jsx)($.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),e(le({login:c,email:l,name:j,password:v,profilePic:S})),L.push("/")},disabled:!c||!j||!l||!Le.test(l)||!v||!N||v!==N,children:"Submit"}),Object(w.jsxs)("p",{className:"sign-up__switch",children:["Switch to ",Object(w.jsx)(O.b,{to:"/sign-in",children:"SIGN IN"})]})]})})})},isExact:!0,type:"public"},{path:"/",component:function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e})).posts;return Object(a.useEffect)((function(){e(ce("posts"))}),[]),Object(w.jsx)("div",{className:"home",children:t.allIds.map((function(e,t){return Object(w.jsx)("div",{className:"home__item",children:Object(w.jsx)(oe,{postId:e,isVisibleContent:1!==t&&2!==t})},e)}))})},isExact:!0,type:"private"}]),Be=(n(146),function(){return Object(w.jsx)(m.a,{className:"app__container",children:Object(w.jsxs)(O.a,{children:[Object(w.jsx)(K,{}),Object(w.jsx)(p.d,{children:Ee.map((function(e){var t=e.path,n=e.exact,a=e.component,c=e.type;return Object(w.jsx)(q,{path:t,exact:n,component:a,type:c},t)}))})]})})}),De=Object(k.c)({name:"users",initialState:{byId:{},allIds:[]},extraReducers:(me={},Object(C.a)(me,de.fulfilled,(function(e,t){var n=t.payload,a=t.meta;e.byId[a.arg]=Object(Z.a)({},n)})),Object(C.a)(me,ue.fulfilled,(function(e,t){var n=t.payload;e.byId=n,e.allIds=Object.keys(n)})),Object(C.a)(me,M.fulfilled,(function(e,t){e.byId[t.login]=Object(Z.a)({},t)})),me)}).reducer,Ge=Object(k.c)({name:"posts",initialState:{byId:{},allIds:[]},extraReducers:(he={},Object(C.a)(he,ce.fulfilled,(function(e,t){var n=t.payload;e.byId=n,e.allIds=Object.keys(n)})),Object(C.a)(he,re.fulfilled,(function(e,t){var n=t.payload;e.byId[n.postId]=n,e.allIds.push(n.postId)})),Object(C.a)(he,se.fulfilled,(function(e,t){var n=t.payload,a=e.allIds.filter((function(e){return e!==n}));delete e.byId[n],e.allIds=a})),Object(C.a)(he,be.fulfilled,(function(e,t){var n=t.payload;e.byId[n.postId].comments[n.commentData.commentId]=Object(Z.a)({},n.commentData)})),he)}).reducer,Ue=Object(k.c)({name:"comments",initialState:{comments:[]}}).reducer,Te=Object(k.a)({reducer:{user:Y,users:De,posts:Ge,comments:Ue}});n(147);r.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(i.a,{store:Te,children:Object(w.jsx)(o.a,{i18n:j,children:Object(w.jsx)(a.Suspense,{fallback:Object(w.jsx)("div",{children:"...loading"}),children:Object(w.jsx)(Be,{})})})})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.0c6e7413.chunk.js.map